<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>成果发布</title>
  <link rel="stylesheet" href="../css/layui.css">
  <link rel="stylesheet" href="../css/templates_css.css">
  <link rel="stylesheet" type="text/css" href="../css/iconfont.css">
</head>
<body class="layui-layout-body" id="publish-page">
<div class="layui-layout layui-layout-admin">
  <div class="layui-header">
    <!-- 头部区域 -->
    <ul class="layui-nav">
	  <a class="logo" href="/">	<img src="../images/globe/logo_head.png" /></a>
	  <li class="layui-nav-item"><a href="../index.html">首页</a></li>
	  <li class="layui-nav-item layui-this"><a href="result-list.html">成果</a></li>
	  <li class="layui-nav-item"><a href="demand-list.html">需求</a></li>
	  <li class="layui-nav-item"><a href="expert-lib-list.html">专家库</a></li>
	  <li class="layui-nav-item">
		<a href="info-list.html">行业资讯</a>
		<dl class="layui-nav-child"> <!-- 二级菜单 -->
		  <dd><a href="article-list.html">行业规章</a></dd>
		  <dd><a href="article-list.html">成果转化介绍</a></dd>
		  <dd><a href="article-list.html">金融服务</a></dd>
		</dl>
	  </li>
    </ul>
    <ul class="layui-nav layui-layout-right">
      <li class="layui-nav-item">
        <a href="javascript:;">
          <img src="http://t.cn/RCzsdCq" class="layui-nav-img">
          Admin
        </a>
        <dl class="layui-nav-child">
          <dd><a href="javascript:layer.msg('功能完善中');">基本资料</a></dd>
          <dd><a href="javascript:layer.msg('功能完善中');">安全设置</a></dd>
        </dl>
      </li>
      <li class="layui-nav-item"><a href="/">退了</a></li>
    </ul>
  </div>
  
  <div class="layui-main">
    <!-- 内容主体区域 -->
	
	<form class="layui-form" id="achievementInfo" style="margin-top:20px">
  
  <div class="layui-form-item">
    <label class="layui-form-label">所属领域</label>
    <div class="layui-input-inline">
      <select name="fieldId">
        <option  disabled="">请选择领域</option>
        <option value="0">土壤</option>
        <option value="1">空气</option>
        <option value="2">水</option>
      </select>
    </div>
    <label class="layui-form-label">所在区域</label>
     <div class="layui-input-inline">
      <select name="regionId">
        <option  disabled="">请选择区域(市级别)</option>
        <option value="0">西湖区</option>
        <option value="1">余杭区</option>
        <option value="2">临安市</option>
      </select>
    </div>
  </div>
  
  <!-- 本地测试用 -->
  <input name="userId" style="display: none;" value="456" type="text">
  
  <div class="layui-form-item">
    
    <div class="layui-inline">
      <label class="layui-form-label">专利价格</label>
      <div class="layui-input-inline">
        <input name="price" value="1234" required lay-verify="required" autocomplete="off" class="layui-input" type="text">
      </div>
    </div>
     <label class="layui-form-label">成果类型</label>
    <div class="layui-input-inline">
      <select name="type">
        <option  disabled="">请选择成果类型</option>
        <option value="0">论文</option>
        <option value="1" selected>专利</option>
        
      </select>
    </div>
  </div>
  


<div class="layui-form-item">
    <div class="layui-inline">
      <label class="layui-form-label">收益区间</label>
      <div class="layui-input-inline" style="width: 100px;">
        <input name="benefitStart" required lay-verify="required" value="1234" placeholder="￥" autocomplete="off" class="layui-input" type="text">
      </div>
      <div class="layui-form-mid">-</div>
      <div class="layui-input-inline" style="width: 100px;">
        <input name="benefitEnd" value="55555" placeholder="￥" autocomplete="off" class="layui-input" type="text">
      </div>
    </div>
    </div>
  

  

  <div class="layui-form-item">
    <div class="layui-inline">
     <label class="layui-form-label">联系方式</label>
     <div class="layui-input-block">
      <input name="tel" value="13036738488" required lay-verify="required|phone" placeholder="请输入" autocomplete="off" class="layui-input" type="text">
     </div>
    </div>
   
   <div class="layui-inline">
    <label class="layui-form-label">专利所有人</label>
    <div class="layui-input-block">
      <input name="patentee" value="张三"  required lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input" type="text">
    </div>
    
    </div>
    
    
  </div>
  
 
  <div class="layui-form-item">
    <label class="layui-form-label">文章标题</label>
    <div class="layui-input-block">
      <input name="title" value="这个是标题" required lay-verify="title" autocomplete="off" placeholder="请输入标题" class="layui-input" type="text">
    </div>
  </div>
  
  <div class="layui-form-item layui-form-text">
    <label class="layui-form-label">文章内容</label>
    <div class="layui-input-block">
      <textarea class="layui-textarea layui-hide" name="content" lay-verify="content" id="LAY_demo_editor"></textarea>
    </div>
  </div>
  <div class="layui-form-item">
    <div class="layui-input-block">
      <button class="layui-btn" lay-submit="" lay-filter="demo1">立即提交</button>
      <button type="reset" class="layui-btn layui-btn-primary">重置</button>
    </div>
  </div>
 
</form>
  </div>
  
  

</div>

<script src="../js/layui.js"></script>
<script>
//JavaScript代码区域
layui.use(['element','form', 'layedit', 'laydate'], function(){
  var $ = layui.jquery
  ,form = layui.form
  ,layer = layui.layer
  ,layedit = layui.layedit
  ,element = layui.element;
  
  
  //创建一个编辑器
  var editIndex = layedit.build('LAY_demo_editor');
 
  //自定义验证规则
  form.verify({
    title: function(value){
      if(value.length < 5){
        return '标题至少得5个字符啊';
      }
    }
    ,pass: [/(.+){6,12}$/, '密码必须6到12位']
    ,content: function(value){
      layedit.sync(editIndex);
    }
  });
 
  //监听提交
  form.on('submit(demo1)', function(data){
    console.log(data.field);
    layer.alert(JSON.stringify(data.field), {
      title: '最终的提交信息'
    });

    $.ajax({
            type:"post",
            url:"http://101.200.43.10:8080/achievement",
            processData: false,
            contentType: "application/json;charset=utf-8",
            dataType: "json",
            data:JSON.stringify(data.field),
            success:function(msg){
                if(msg.code==0){
                  layer.alert('添加成果成功', {icon: 1});
                }else{
                  layer.msg("添加成果失败");
                }
                   
            }
        });

    return false;
  });
  
  
});
</script>
</body>
</html>