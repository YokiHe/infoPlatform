<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>文章页面</title>
  <link rel="stylesheet" href="../css/layui.css">
  <link rel="stylesheet" href="../css/templates_css.css">
  <link rel="stylesheet" type="text/css" href="../css/iconfont.css">
</head>
<body id="article-page" class="publictmp">
	<div id="all-content">
		<script type="text/javascript" src="./../common/header.js"></script> 
		<section id="body-content" class="layui-main">
			<span class="layui-breadcrumb">
			  <a href="">首页</a>
			  <a href="">行业资讯</a>
			  <a><cite>正文</cite></a>
			</span>
			<article id="view">

			</article>
		</section>

	<script id="demo" type="text/html">
		<header>
			<h1>文章标题</h1>
			<!--文章属性列表-->
			<dl class="dl-inline">
				<dt>作者：</dt>
				<dd>{{ d.data.userName}}</dd>
				<dt>发布时间：</dt>
				<dd>{{ d.data.time }}</dd>
				<dd class="article-abb pull-right">
					{{# if(d.data.visitCount > 100){ }}
					<span class="layui-badge">热门</span>
					{{#  } }} 
					<span class="layui-badge layui-bg-cyan">置顶</span>
					<span class="layui-badge layui-bg-blue">{{ d.data.visitCount}}次浏览</span>
				</dd>
			</dl>
			<div class="abstract">
				<!-- <p><span>摘要信息:</span>ddddddddddddddddddddddddddddddddddd</p> -->
			</div>
		</header>
		<!--文章正文部分-->
		<section class="content">
			{{ d.data.content}}
		</section>
		<!--文章底部-->
		<footer>
		</footer>
	</script>

	<script type="text/javascript" src="./../common/footer.js"></script>
</div>
<!-- 你的HTML代码 -->
 
<script src="../js/layui.js"></script>
<script>
layui.use(['element','jquery','laytpl','layer'], function(){
  var $ = layui.jquery
  ,layer = layui.layer
  ,element = layui.element
  ,laytpl = layui.laytpl;
  
	function getUrlParam(name){
		var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)"); //构造一个含有目标参数的正则表达式对象
		var r = window.location.search.substr(1).match(reg);  //匹配目标参数
		if (r!=null) return unescape(r[2]); return null; //返回参数值
	} 

	$.ajax({
            url:'http://101.200.43.10:8080/rule/'+getUrlParam('id'),
            dataType:'json',
            success:function(data){
            	console.log(data);
                var getTpl = demo.innerHTML
                ,view = document.getElementById('view');
                laytpl(getTpl).render(data, function(html){
                  view.innerHTML = html;
                });
              
            }
        });
  
});
</script>


</body>
</html>
